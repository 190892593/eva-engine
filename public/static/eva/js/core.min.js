(function(){var c=this,d,b={debug:true,params:{},login:false,username:false,lang:"en",dir:"",f:"",s:"",ie:false},a=c.eva={module:{},config:{},debug:{showGrid:function(){jQuery(c).load(function(){var f=950;var e=0-f/2;jQuery("body").append('<div id="grid" style="position:absolute;margin-left:'+e+"px;top:0;left:50%;width:"+f+"px;height:"+jQuery("#page").height()+"px;background:#CCC url("+s("/skins/grid950.png")+') repeat top left;z-index:9999;"></div>');jQuery("#grid").animate({opacity:0.5},0).click(function(){jQuery(this).hide()})})}},d:function(e){return e===d?b.dir:b.dir+e},s:function(e){return e===d?b.s:b.s+e},f:function(e){return e===d?b.f:b.f+e},sv:function(e){return a.s(e)+"?v="+eva.config.version},p:function(e){if(typeof console==="undefined"){return alert(e)}return console.log(e)},getConfig:function(e){var f=$.extend({},b);return $.extend(f,e)},getRouterName:function(){return b.params.action+b.params.resource},getRouter:function(){var e=b.params.action+b.params.resource;var g=b.params.module;if(g===d||g=="default"){return eva[e]===d?function(){}:eva[e]}else{var f=g.charAt(0).toUpperCase()+g.substr(1)+"_"+e;return a.module[f]===d?(eva[e]===d?function(){}:eva[e]):eva.module[f]}},loader:function(f,g){if($LAB===d||f===d||!f){return false}if(typeof f==="string"){return $LAB.script(eva.sv(f)).wait(g)}for(var e in f){f[e]=eva.sv(f[e])}return $LAB.script(f).wait(g)},trim:function(e){return jQuery.trim(e)},cookie:function(f,n,q){if(typeof n!="undefined"){q=q||{};if(n===null){n="";q.expires=-1}var j="";if(q.expires&&(typeof q.expires=="number"||q.expires.toUTCString)){var k;if(typeof q.expires=="number"){k=new Date();k.setTime(k.getTime()+(q.expires*24*60*60*1000))}else{k=q.expires}j="; expires="+k.toUTCString()}var p=q.path?"; path="+(q.path):"";var l=q.domain?"; domain="+(q.domain):"";var e=q.secure?"; secure":"";document.cookie=[f,"=",encodeURIComponent(n),j,p,l,e].join("")}else{var h=null;if(document.cookie&&document.cookie!==""){var o=document.cookie.split(";");for(var m=0;m<o.length;m++){var g=a.trim(o[m]);if(g.substring(0,f.length+1)==(f+"=")){h=decodeURIComponent(g.substring(f.length+1));break}}}return h}return null},loadcss:function(){var e=arguments.length;var h=document.getElementsByTagName("head")[0];var g=document.createElement("link");g.type="text/css";g.rel="stylesheet";for(var f=0;f<e;f++){g.href=eva.sv(arguments[f]);h.appendChild(g)}},parseUri:function(f){function e(l){var k=e.options,g=k.parser[k.strictMode?"strict":"loose"].exec(l),j={},h=14;while(h){h--;j[k.key[h]]=g[h]||""}j[k.q.name]={};j[k.key[12]].replace(k.q.parser,function(m,i,n){if(i){j[k.q.name][i]=n}});return j}e.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};return f?e(f):e(c.location.href)},template:function(f,e){f=f.replace(/{[^{}]+}/g,function(g){return e[g.replace(/[{}]+/g,"")]||""});return f},init:function(f){b=a.getConfig(f);a.config=b;var e=a.getRouter();jQuery(document).ready(function(){if(eva.construct!==d){eva.construct()}if(e){e()}if(eva.destruct!==d){eva.destruct()}return false})}}})();
