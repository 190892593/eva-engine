/*
  * jquery.toc.js - A jQuery plugin that will automatically generate a table of contents. 
  * v0.1.1
  * https://github.com/jgallen23/toc
  * copyright JGA 2012
  * MIT License
  */
!function(a){a.fn.toc=function(m){var k=this;var b=a.extend({},jQuery.fn.toc.defaults,m);var c=a(b.container);var j=a(b.selectors,c);var f=[];var l=b.prefix+"-active";var d=function(q){for(var p=0,s=arguments.length;p<s;p++){var r=arguments[p],n=a(r);if(n.scrollTop()>0){return n}else{n.scrollTop(1);var o=n.scrollTop()>0;n.scrollTop(0);if(o){return n}}}return[]};var i=d(b.container,"body","html");var e=function(p){if(b.smoothScrolling){p.preventDefault();var n=a(p.target).attr("href");var o=a(n);i.animate({scrollTop:o.offset().top},400,"swing",function(){location.hash=n})}a("li",k).removeClass(l);a(p.target).parent().addClass(l)};var h;var g=function(n){if(h){clearTimeout(h)}h=setTimeout(function(){var q=a(window).scrollTop(),p;for(var o=0,r=f.length;o<r;o++){if(f[o]>=q){a("li",k).removeClass(l);p=a("li:eq("+(o-1)+")",k).addClass(l);b.onHighlight(p);break}}},50)};if(b.highlightOnScroll){a(window).bind("scroll",g);g()}return this.each(function(){var o=a(this);var n=a("<ul/>");j.each(function(t,u){var q=a(u);f.push(q.offset().top-b.highlightOffset);var s=a("<span/>").attr("id",b.anchorName(t,u,b.prefix)).insertBefore(q);var r=a("<a/>").text(b.headerText(t,u,q)).attr("href","#"+b.anchorName(t,u,b.prefix)).bind("click",function(v){e(v);o.trigger("selected",a(this).attr("href"))});var p=a("<li/>").addClass(b.itemClass(t,u,q,b.prefix)).append(r);n.append(p)});o.html(n)})};jQuery.fn.toc.defaults={container:"body",selectors:"h1,h2,h3",smoothScrolling:true,prefix:"toc",onHighlight:function(){},highlightOnScroll:true,highlightOffset:100,anchorName:function(b,d,c){return c+b},headerText:function(b,d,c){return c.text()},itemClass:function(b,e,c,d){return d+"-"+c[0].tagName.toLowerCase()}}}(jQuery);
